-- Миграция: Исправление типов низа ковра - разделение "Не выбрано" и "Шио0"
-- Дата: 2025-01-28
-- Описание: Добавляем отдельное значение "Не выбрано" и обновляем отображение Spike0 как Шио0

-- 1. Добавляем новую запись "Не выбрано"
INSERT INTO bottom_types (code, name, description, is_system) VALUES
('not_selected', 'Не выбрано', 'Низ ковра не выбран', true);

-- 2. Обновляем название для spike_0 с "Шип-0" на "Шио0"
UPDATE bottom_types 
SET name = 'Шио0', 
    description = 'Низ ковра - Шио0 (без шипов)'
WHERE code = 'spike_0';

-- 3. Получаем ID записи "Не выбрано" для дальнейшего использования
-- (Это значение будет использоваться по умолчанию в UI, но не в БД)

-- Комментарии
COMMENT ON COLUMN bottom_types.code IS 'Код типа низа ковра (not_selected, spike_0, spike_2, spike_5, spike_7, spike_11)';
