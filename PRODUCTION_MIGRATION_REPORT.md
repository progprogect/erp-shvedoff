# üéØ –û–¢–ß–ï–¢ –û –ú–ò–ì–†–ê–¶–ò–ò PRODUCTION –ë–î

## üìä –°–í–û–î–ö–ê –í–´–ü–û–õ–ù–ï–ù–ù–´–• –†–ê–ë–û–¢

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** $(date)  
**–ü—Ä–æ–µ–∫—Ç:** ERP-Shvedoff  
**–¶–µ–ª—å:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è production —Å staging (staging = —ç—Ç–∞–ª–æ–Ω)

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### üõ°Ô∏è **1. –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï**
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π backup production –ë–î
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ CSV:
  - `production_categories_backup.csv` (3 –∑–∞–ø–∏—Å–∏)
  - `production_bottom_types_backup.csv` (5 –∑–∞–ø–∏—Å–µ–π) 
  - `production_carpet_edge_types_backup.csv` (4 –∑–∞–ø–∏—Å–∏)
  - `production_materials_backup.csv` (2 –∑–∞–ø–∏—Å–∏)
  - `production_surfaces_backup.csv` (6 –∑–∞–ø–∏—Å–µ–π)
  - `production_logos_backup.csv` (5 –∑–∞–ø–∏—Å–µ–π)
  - `production_puzzle_types_backup.csv` (5 –∑–∞–ø–∏—Å–µ–π)
  - `production_users_backup.csv` (3 –∑–∞–ø–∏—Å–∏)
  - `production_products_backup.csv` (125 –∑–∞–ø–∏—Å–µ–π)
  - `production_stock_backup.csv` (125 –∑–∞–ø–∏—Å–µ–π)
  - `production_roll_composition_backup.csv` (0 –∑–∞–ø–∏—Å–µ–π)

### üìã **2. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø BOTTOM_TYPES**
**–î–æ –º–∏–≥—Ä–∞—Ü–∏–∏:** 5 –∑–∞–ø–∏—Å–µ–π  
**–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:** 6 –∑–∞–ø–∏—Å–µ–π ‚úÖ

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å:**
- `ID=6, code='not_selected', name='–ù–µ –≤—ã–±—Ä–∞–Ω–æ'` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Production —Ç–µ–ø–µ—Ä—å **–∏–¥–µ–Ω—Ç–∏—á–Ω–æ** staging

### üîß **3. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø CARPET_EDGE_TYPES**  
**–î–æ –º–∏–≥—Ä–∞—Ü–∏–∏:** 4 –∑–∞–ø–∏—Å–∏  
**–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:** 5 –∑–∞–ø–∏—Å–µ–π ‚úÖ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- **–û–±–Ω–æ–≤–ª–µ–Ω ID=1:** `name='–ü—Ä—è–º–æ–π —Ä–µ–∑', code='direct_cut'` (–±—ã–ª–æ `straight_cut`)
- **–û–±–Ω–æ–≤–ª–µ–Ω ID=3:** `code='sub_puzzle'` (–±—ã–ª–æ `podpuzzle`)  
- **–û–±–Ω–æ–≤–ª–µ–Ω ID=4:** `code='cast_puzzle'` (–±—ã–ª–æ `litoy_puzzle`)
- **–î–æ–±–∞–≤–ª–µ–Ω ID=5:** `name='–õ–∏—Ç–æ–π', code='straight_cut'`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Production —Ç–µ–ø–µ—Ä—å **–∏–¥–µ–Ω—Ç–∏—á–Ω–æ** staging

### üî¢ **4. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø ROLL_COVERING_COMPOSITION**
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ quantity:** —É–∂–µ –±—ã–ª–∞ `numeric(10,2)` ‚úÖ  
**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚úÖ `check_no_self_reference` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º–æ—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—é
- ‚úÖ `check_sort_order_positive` - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π sort_order  
- ‚úÖ `unique_roll_covering_sort_order` - —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å (roll_covering_id, sort_order)

**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- **5 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π** (check constraints)
- **4 –∏–Ω–¥–µ–∫—Å–∞** (–≤–∫–ª—é—á–∞—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Production —Ç–µ–ø–µ—Ä—å **–∏–¥–µ–Ω—Ç–∏—á–Ω–æ** staging

---

## üìä –§–ò–ù–ê–õ–¨–ù–û–ï –°–†–ê–í–ù–ï–ù–ò–ï

| –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ | Production –î–û | Production –ü–û–°–õ–ï | Staging | ‚úÖ –°—Ç–∞—Ç—É—Å |
|------------|---------------|------------------|---------|-----------|
| `bottom_types` | 5 –∑–∞–ø–∏—Å–µ–π | 6 –∑–∞–ø–∏—Å–µ–π | 6 –∑–∞–ø–∏—Å–µ–π | **–ò–î–ï–ù–¢–ò–ß–ù–û** |
| `carpet_edge_types` | 4 –∑–∞–ø–∏—Å–∏ | 5 –∑–∞–ø–∏—Å–µ–π | 5 –∑–∞–ø–∏—Å–µ–π | **–ò–î–ï–ù–¢–ò–ß–ù–û** |
| `roll_composition` constraints | 3 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è | 5 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | 5 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π | **–ò–î–ï–ù–¢–ò–ß–ù–û** |
| `roll_composition` indexes | 3 –∏–Ω–¥–µ–∫—Å–∞ | 4 –∏–Ω–¥–µ–∫—Å–∞ | 4 –∏–Ω–¥–µ–∫—Å–∞ | **–ò–î–ï–ù–¢–ò–ß–ù–û** |

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### ‚ö†Ô∏è **–í–ê–ñ–ù–û –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò:**
1. **–ù–æ–≤—ã–π —Ç–∏–ø –Ω–∏–∑–∞:** `not_selected` —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ production
2. **–ù–æ–≤—ã–π —Ç–∏–ø –∫—Ä–æ–º–∫–∏:** `–õ–∏—Ç–æ–π` —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ production  
3. **–ò–∑–º–µ–Ω–µ–Ω—ã –∫–æ–¥—ã:** `carpet_edge_types` –∫–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ staging
4. **–î—Ä–æ–±–Ω—ã–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞:** `roll_covering_composition.quantity` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

### ‚úÖ **–ß–¢–û –°–û–•–†–ê–ù–ï–ù–û:**
- –í—Å–µ —Ç–æ–≤–∞—Ä—ã production (125 —Ç–æ–≤–∞—Ä–æ–≤)
- –í—Å–µ –æ—Å—Ç–∞—Ç–∫–∏ production (125 –∑–∞–ø–∏—Å–µ–π)
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ production (3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∫–ª—é—á–∞—è tremolo)
- –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –∏ –∞—É–¥–∏—Ç
- –í—Å–µ –∑–∞–∫–∞–∑—ã –∏ –æ—Ç–≥—Ä—É–∑–∫–∏

---

## üîß –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

### üìÑ **–°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏:**
- `sync_reference_data_to_staging.sql` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- `sync_roll_composition_constraints.sql` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- `final_check.sql` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### üíæ **Backup —Ñ–∞–π–ª—ã:**
- `production_*_backup.csv` - —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- `create_production_backup.sql` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è backup

### üìã **–û—Ç—á–µ—Ç—ã:**
- `PRODUCTION_MIGRATION_REPORT.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç
- `DATABASE_MIGRATION_ANALYSIS.md` - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- `RAILWAY_DB_ACCESS_GUIDE.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ—Å—Ç—É–ø—É

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### üß™ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã:**
1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤** —Å –Ω–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏ –Ω–∏–∑–∞ –∏ –∫—Ä–æ–º–æ–∫
2. **–°–æ–∑–¥–∞–Ω–∏–µ roll_covering** —Å –¥—Ä–æ–±–Ω—ã–º–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞–º–∏
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º** - –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –æ–ø—Ü–∏–∏
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API** - –¥–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### üîç **–¢–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è:**
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ ‚Üí –≤—ã–±–æ—Ä "–ù–µ –≤—ã–±—Ä–∞–Ω–æ" –¥–ª—è –Ω–∏–∑–∞
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ ‚Üí –≤—ã–±–æ—Ä "–õ–∏—Ç–æ–π" –¥–ª—è –∫—Ä–æ–º–∫–∏  
- –§–æ—Ä–º–∞ roll_covering ‚Üí –≤–≤–æ–¥ –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.25)
- API endpoints ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ **–ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û**
- **Production –ë–î —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞** —Å staging
- **–í—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã** staging (—ç—Ç–∞–ª–æ–Ω)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä–æ–±–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤** –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- **Backup —Å–æ–∑–¥–∞–Ω** –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω
- **–î–∞–Ω–Ω—ã–µ production —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã** –ø–æ–ª–Ω–æ—Å—Ç—å—é

### üöÄ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê**
Production environment —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ staging –≤–µ—Ç–∫–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é!

---

*–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∫–∞—á–µ—Å—Ç–≤–∞*  
*–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏–º—ã —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ backup —Ñ–∞–π–ª—ã*  
*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ—Å—Ç—É–ø—É: `RAILWAY_DB_ACCESS_GUIDE.md`*






