# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Backend (Node.js + Express + PostgreSQL)

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ db/              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.ts    # Drizzle ORM —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts      # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (FR-001)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.ts   # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (FR-002)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stock.ts     # –û—Å—Ç–∞—Ç–∫–∏ (FR-003)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ orders.ts    # –ó–∞–∫–∞–∑—ã (FR-004)
‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Middleware —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts      # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.ts # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.ts    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ scripts/         # –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed.ts      # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ server.ts        # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ drizzle/             # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ drizzle.config.ts
```

### Frontend (React + TypeScript + Antd)

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout/      # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/   # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≠–∫—Ä–∞–Ω 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Catalog/     # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–≠–∫—Ä–∞–Ω—ã 2.1, 2.2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Stock/       # –û—Å—Ç–∞—Ç–∫–∏ (–≠–∫—Ä–∞–Ω—ã 4.1, 4.2)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Orders/      # –ó–∞–∫–∞–∑—ã (–≠–∫—Ä–∞–Ω—ã 3.1, 3.2, 3.3)
‚îÇ   ‚îú‚îÄ‚îÄ stores/         # Zustand —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authStore.ts # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ services/       # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–ó–∞–¥–∞—á–∞ 1.1)

| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°–≤—è–∑–∏ |
|---------|------------|-------|
| `users` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã | - |
| `categories` | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | self-reference |
| `products` | –¢–æ–≤–∞—Ä—ã | ‚Üí categories |
| `stock` | –û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ | ‚Üí products |
| `stock_movements` | –ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏—è | ‚Üí products, users |
| `orders` | –ó–∞–∫–∞–∑—ã | ‚Üí users (manager) |
| `order_items` | –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ | ‚Üí orders, products |
| `order_messages` | –ß–∞—Ç –ø–æ –∑–∞–∫–∞–∑–∞–º | ‚Üí orders, users |

### Enums

```sql
-- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (FR-001)
user_role: manager, director, production, warehouse

-- –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ (FR-004)  
order_status: new, confirmed, in_production, ready, shipped, delivered, cancelled

-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–∫–∞–∑–æ–≤
priority_level: low, normal, high, urgent

-- –¢–∏–ø—ã –¥–≤–∏–∂–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ (FR-003)
movement_type: incoming, outgoing, cutting_out, cutting_in, reservation, release_reservation, adjustment
```

## üîê –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (FR-001)

| –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ—Å—Ç—É–ø |
|------|----------|--------|
| `director` | –î–∏—Ä–µ–∫—Ç–æ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º |
| `manager` | –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ |
| `production` | –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ | –û—á–µ—Ä–µ–¥—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, —Ä–µ–∑–∫–∞ |
| `warehouse` | –°–∫–ª–∞–¥/–û—Ö—Ä–∞–Ω–∞ | –û—Å—Ç–∞—Ç–∫–∏, –æ—Ç–≥—Ä—É–∑–∫–∏ |

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### Backend
- **Node.js 18+** - Runtime
- **Express.js** - Web framework
- **TypeScript** - –¢–∏–ø–∏–∑–∞—Ü–∏—è
- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Drizzle ORM** - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **JWT** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **bcryptjs** - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **Zod** - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Winston** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend  
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - –¢–∏–ø–∏–∑–∞—Ü–∏—è
- **Antd** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **React Router** - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Zustand** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **React Query** - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç

## üìù –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞

### TypeScript
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
interface User {
  id: number;
  username: string;
  role: 'manager' | 'director' | 'production' | 'warehouse';
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–∏–ø—ã –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
export type { User };
```

### API Routes
```typescript
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: string;
  message?: string;
}

// –û—à–∏–±–∫–∏ —Å –∫–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞
const createError = (message: string, statusCode = 500) => {
  const error = new Error(message);
  error.statusCode = statusCode;
  return error;
};
```

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```tsx
// –ò—Å–ø–æ–ª—å–∑—É–µ–º FC —Å —è–≤–Ω—ã–º–∏ –ø—Ä–æ–ø—Å–∞–º–∏
interface Props {
  title: string;
  loading?: boolean;
}

const Component: React.FC<Props> = ({ title, loading = false }) => {
  return <div>{title}</div>;
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Backend —Ç–µ—Å—Ç—ã
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage
```

### Frontend —Ç–µ—Å—Ç—ã
```bash
# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test

# E2E —Ç–µ—Å—Ç—ã (–≤ –±—É–¥—É—â–µ–º)
npm run test:e2e
```

## üîÑ Git Workflow

### –í–µ—Ç–∫–∏
- `main` - –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥
- `develop` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≤–µ—Ç–∫–∞
- `feature/*` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `bugfix/*` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `hotfix/*` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö–æ–º–º–∏—Ç—ã
```bash
# –§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤
<type>(<scope>): <description>

# –ü—Ä–∏–º–µ—Ä—ã
feat(auth): add JWT token refresh
fix(orders): resolve reservation bug
docs(api): update endpoints documentation
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á

### ‚úÖ –ó–∞–¥–∞—á–∞ 1.1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ó–ê–í–ï–†–®–ï–ù–û)
- [x] PostgreSQL —Å—Ö–µ–º–∞ —Å 15+ —Ç–∞–±–ª–∏—Ü–∞–º–∏
- [x] Express.js —Å–µ—Ä–≤–µ—Ä —Å middleware
- [x] React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π
- [x] TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] /health endpoint
- [x] –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π

### üîÑ –ó–∞–¥–∞—á–∞ 1.2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2 –¥–Ω—è)
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- [ ] JWT —Ç–æ–∫–µ–Ω—ã —Å refresh
- [ ] Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] 4 —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### üîÑ –ó–∞–¥–∞—á–∞ 1.3: –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (4 –¥–Ω—è)
- [ ] –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/—Ä–∞–∑–º–µ—Ä–∞–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### üîÑ –ó–∞–¥–∞—á–∞ 1.4: –û—Å—Ç–∞—Ç–∫–∏ (3 –¥–Ω—è)
- [ ] –¢–∞–±–ª–∏—Ü–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤
- [ ] –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤
- [ ] –ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É

## üöÄ –î–µ–ø–ª–æ–π

### –ü—Ä–æ–¥–∞–∫—à–Ω —Å–±–æ—Ä–∫–∞
```bash
# –°–±–æ—Ä–∫–∞ frontend
npm run build

# –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
npm start
```

### Docker (–≤ –±—É–¥—É—â–µ–º)
```dockerfile
# Dockerfile –¥–ª—è backend –∏ frontend
# docker-compose.yml –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
- **Backend**: Winston –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª—ã
- **Database**: PostgreSQL –ª–æ–≥–∏
- **Frontend**: Console –ª–æ–≥–∏ (development)

### –ú–µ—Ç—Ä–∏–∫–∏
- API response –≤—Ä–µ–º–µ–Ω–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤

## üîß –û—Ç–ª–∞–¥–∫–∞

### Backend –æ—Ç–ª–∞–¥–∫–∞
```bash
# Debug —Ä–µ–∂–∏–º
NODE_ENV=development npm run dev

# PostgreSQL –ª–æ–≥–∏
tail -f /var/log/postgresql/postgresql.log
```

### Frontend –æ—Ç–ª–∞–¥–∫–∞
```bash
# React DevTools
# Redux DevTools (–¥–ª—è Zustand)
# Network tab –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Drizzle ORM Docs](https://orm.drizzle.team/)
- [Antd Components](https://ant.design/components/overview/)
- [Zustand Guide](https://zustand-demo.pmnd.rs/)
- [React Query Docs](https://react-query.tanstack.com/)

---

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: –ó–∞–¥–∞—á–∞ 1.2 - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è 