# ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ –ú–ò–ì–†–ê–¶–ò–ò

## üéØ –¶–ï–õ–¨
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ—Ä—Ç–∞ "–õ–∏–±–µ—Ä—Ç–∏" (Liberty) –≤ Production –ë–î

---

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û

- [x] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø Production –ë–î (5 —Ç–∞–±–ª–∏—Ü)
- [x] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Staging –∏ Production
- [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞
- [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üöÄ –ó–ê–ü–£–°–ö –ú–ò–ì–†–ê–¶–ò–ò (1 –ö–û–ú–ê–ù–î–ê)

```bash
cd /Users/mikitavalkunovich/Desktop/Cursor/ERP-New/backups && \
PGPASSWORD=xeIitZntkaAAeoZSFpsOsfCOKpoORwGA psql \
  -h yamanote.proxy.rlwy.net \
  -p 41401 \
  -U postgres \
  -d railway \
  -f RUN_MIGRATION.sql
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 —Å–µ–∫—É–Ω–¥  
**–†–∏—Å–∫:** üü¢ –ù–∏–∑–∫–∏–π (–µ—Å—Ç—å –±—ç–∫–∞–ø –∏ –æ—Ç–∫–∞—Ç)

---

## üìã –ß–¢–û –ë–£–î–ï–¢ –°–î–ï–õ–ê–ù–û

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è Liberty –≤ `cutting_operations`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è Liberty –≤ `cutting_progress_log`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è —Å–æ—Ä—Ç–æ–≤ –≤ `production_tasks`
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Liberty
5. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (—Ç–µ–ø–µ—Ä—å –≤ API, –∞ –Ω–µ –≤ —Ç—Ä–∏–≥–≥–µ—Ä–µ)

---

## üîô –û–¢–ö–ê–¢ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

```bash
cd /Users/mikitavalkunovich/Desktop/Cursor/ERP-New/backups && \
PGPASSWORD=xeIitZntkaAAeoZSFpsOsfCOKpoORwGA psql \
  -h yamanote.proxy.rlwy.net \
  -p 41401 \
  -U postgres \
  -d railway \
  -f ROLLBACK.sql
```

---

## üìä –ü–û–°–õ–ï –ú–ò–ì–†–ê–¶–ò–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –í—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- –¢—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω
- –ë—ç–∫–∞–ø—ã –Ω–∞ –º–µ—Å—Ç–µ

### 2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å backend –∏ frontend

```bash
cd /Users/mikitavalkunovich/Desktop/Cursor/ERP-New
git push origin stage
# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

- [ ] –°–æ–∑–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é —Ä–µ–∑–∫–∏ —Å Liberty
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Å Liberty
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø—É—Å–∫ —Å 2-–º —Å–æ—Ä—Ç–æ–º –∏ Liberty
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏

---

## üìÅ –§–ê–ô–õ–´

- `MIGRATION_PLAN.md` - –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω (—á–∏—Ç–∞—Ç—å –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è)
- `README.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `RUN_MIGRATION.sql` - **–ì–õ–ê–í–ù–´–ô –°–ö–†–ò–ü–¢** (–∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç–æ—Ç)
- `ROLLBACK.sql` - –û—Ç–∫–∞—Ç
- `01_add_liberty_grade_fields.sql` - –ú–∏–≥—Ä–∞—Ü–∏—è 1
- `02_add_production_grades_fields.sql` - –ú–∏–≥—Ä–∞—Ü–∏—è 2
- `03_update_cutting_progress_trigger.sql` - –ú–∏–≥—Ä–∞—Ü–∏—è 3
- `04_verify_migration.sql` - –ü—Ä–æ–≤–µ—Ä–∫–∞

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. –ë—ç–∫–∞–ø –£–ñ–ï –°–û–ó–î–ê–ù –≤ Production –ë–î
2. –ú–∏–≥—Ä–∞—Ü–∏—è –ò–î–ï–ú–ü–û–¢–ï–ù–¢–ù–ê (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
3. –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º - –∑–∞–ø—É—Å—Ç–∏—Ç—å ROLLBACK.sql
4. –ù–ï —É–¥–∞–ª—è—Ç—å –±—ç–∫–∞–ø—ã –º–∏–Ω–∏–º—É–º 7 –¥–Ω–µ–π

---

## üéâ –ì–û–¢–û–í–û!

–ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤—ã—à–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ.  
–°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.




