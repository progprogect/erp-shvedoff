# 📱 ПОЛНЫЙ СПИСОК ЭКРАНОВ СИСТЕМЫ ERP SHVEDOFF
## Дата обновления: 16.07.2025
## Статус: ВСЕ ЭКРАНЫ РЕАЛИЗОВАНЫ И ОТЛАЖЕНЫ ✅

# 1. 🏠 ДАШБОРД (ГЛАВНЫЙ ЭКРАН)

**Доступ:** Все роли
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАН

**Функциональность:**
- Общая статистика по заказам с цветными индикаторами
- Критичные остатки (менее установленной нормы)
- Срочные заказы с красными индикаторами приоритета
- Топ-10 ходовых позиций по движению
- Последние отгрузки за день с актуальными статусами
- Быстрые действия для частых операций

**Интерфейс дашборда:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 🏠 ДАШБОРД ERP SHVEDOFF                              [⚙️ Настройки] [🔄 Обновить] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 СВОДКА ПО ЗАКАЗАМ                                                        │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────┐ │
│ │📋 Новые     │ │⏳ В работе  │ │✅ Готовые   │ │🚚 Отгружены │ │❌ Отмены│ │
│ │    12       │ │    8        │ │    5        │ │    15       │ │   2     │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚠️ КРИТИЧНЫЕ ОСТАТКИ                                         [👁️ Все остатки] │
│ 🔴 Лежак 0 Чеш 1800×1200×30 - осталось 12 шт (норма: 100)                 │
│ 🔴 Коврик кольцевой 600×400 - осталось 5 шт (норма: 50)                   │
│ 🟡 Дюбель 10×100мм - осталось 89 шт (норма: 200)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔥 СРОЧНЫЕ ЗАКАЗЫ                                           [👁️ Все заказы] │
│ 🚨 Заказ #ORD-2025-045 - Агротек - срок: СЕГОДНЯ                          │
│ ⚡ Заказ #ORD-2025-047 - Велес - срок: завтра                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📦 ПОСЛЕДНИЕ ОТГРУЗКИ                                      [👁️ Все отгрузки] │
│ ✅ SHIP-2025-023 - Агротек (15:30) - Доставлена                           │
│ 🚚 SHIP-2025-024 - Велес (16:45) - Отгружена                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ ⚡ БЫСТРЫЕ ДЕЙСТВИЯ                                                          │
│ [📋 Новый заказ] [📦 Проверить остатки] [🏭 Производство] [✂️ Операции резки] │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 2. 📚 КАТАЛОГ ТОВАРОВ

**Доступ:** Все роли (разные права редактирования)
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАН + РАСШИРЕННАЯ ФУНКЦИОНАЛЬНОСТЬ

## 2.1 Древовидный каталог товаров

**Новые возможности:**
- ✅ Справочник поверхностей (Чешуйки, Черточки, Коровки, Лого)
- ✅ Система логотипов (Велес, Геа, Агротек + пользовательские)
- ✅ Справочник материалов (Протектор, Дробленка)
- ✅ Навигация к карточке товара из остатков по клику

**Структура каталога (обновленная):**
```
🏠 КОРНЕВОЙ КАТАЛОГ
├── 📁 ЛЕЖАКИ РЕЗИНОВЫЕ (347 товаров)
│   ├── 📁 Чешские (0 Чеш) (45 товаров)
│   │   ├── 📁 Стандартные 1800×1200 (12 товаров)
│   │   │   ├── 📄 Лежак 0 Чеш 1800×1200×30 (остаток: 145)
│   │   │   │   └── 🎨 Поверхность: Чешуйки | 🏷️ Без лого | 🧱 Протектор
│   │   │   ├── 📄 Лежак 0 Чеш 1800×1200×35 (остаток: 89)
│   │   │   └── 📄 Лежак 0 Чеш 1800×1200×40 (остаток: 67)
│   │   ├── 📁 Нестандартные размеры (8 товаров)
│   │   └── 📁 Пазловые соединения (25 товаров)
│   ├── 📁 3-Корончатые (3Кор) (28 товаров)
│   ├── 📁 Брендовые (156 товаров)
│   │   ├── 📁 GEA (34 товара)
│   │   │   ├── 📄 Лежак GEA 1800×1200×30 (остаток: 45)
│   │   │   │   └── 🎨 Поверхность: Черточки | 🏷️ Лого: GEA | 🧱 Дробленка
│   │   ├── 📁 Agrotek (28 товаров)
│   │   ├── 📁 Верблюд (41 товар)
│   │   ├── 📁 Либерти (32 товара)
│   │   └── 📁 Shvedoff (21 товар)
│   └── 📁 Специальные (67 товаров)
├── 📁 КОВРИКИ (89 товаров)
├── 📁 РУЛОННЫЕ ПОКРЫТИЯ (45 товаров)
├── 📁 КРЕПЕЖНЫЕ ИЗДЕЛИЯ (67 товаров)
├── 📁 КОМПЛЕКТУЮЩИЕ (34 товара)
├── 📁 БРАК И РЕМОНТ (123 товара)
└── 📁 РАЗНОЕ (45 товаров)
```

**Интерфейс каталога (обновленный):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 📁 КАТАЛОГ ТОВАРОВ                                      [⚙️ Управление] [➕ Добавить] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔍 [Поиск товаров...]      [🎨 Поверхность ▼] [🏷️ Лого ▼] [🧱 Материал ▼] │
│ 📊 Фильтры: [Все ▼] [В наличии ▼] [Критичные ▼] [Отрицательные ▼]           │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📂 Категории                    │ 📋 Товары в категории                      │
│ ┌─────────────────────────────┐ │ ┌─────────────────────────────────────────┐ │
│ │📁 Лежаки резиновые (347)   │ │ │📄 Лежак 0 Чеш 1800×1200×30             │ │
│ │├📁 Чешские (45)           │ │ │   💾 145 шт │🔒 23 рез │⚠️ Норма: 100   │ │
│ │├📁 3-Корончатые (28)      │ │ │   💰 15,430₽│🎨 Чешуйки │🏷️ Без лого    │ │
│ │├📁 Брендовые (156)        │ │ │   [📋 Карточка] [📈 График] [🛒 Заказать] │ │
│ │└📁 Специальные (67)       │ │ │                                         │ │
│ │📁 Коврики (89)            │ │ │📄 Лежак GEA 1800×1200×30               │ │
│ │📁 Рулонные покрытия (45)  │ │ │   💾 45 шт  │🔒 12 рез │✅ Норма: 50    │ │
│ │📁 Крепежные изделия (67)  │ │ │   💰 18,920₽│🎨 Черточки│🏷️ GEA         │ │
│ │📁 Комплектующие (34)      │ │ │   [📋 Карточка] [📈 График] [🛒 Заказать] │ │
│ └─────────────────────────────┘ └─────────────────────────────────────────┘ │
│                                 │ 📊 Показано: 2 из 12 товаров              │ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📈 Статистика по категории: Лежаки резиновые / Чешские / Стандартные        │
│ 💾 Общий остаток: 301 шт │🔒 Резерв: 40 шт │💰 Стоимость: 467,890₽         │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 2.2 КАРТОЧКА ТОВАРА

**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНА + НОВАЯ ФУНКЦИОНАЛЬНОСТЬ

**Обновленный интерфейс карточки:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 📄 КАРТОЧКА ТОВАРА                                         [✏️ Редактировать] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🏷️ Лежак 0 Чешский 1800×1200×30                                            │
│ 📂 Категория: Лежаки резиновые → Чешские → Стандартные [📝 Изменить]        │
│ 🆔 Артикул: LCH-1800-1200-30                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 ОСТАТКИ И РЕЗЕРВ                                                         │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────┐ │
│ │💾 Остаток   │ │🔒 Резерв    │ │📦 Доступно  │ │⚠️ Норма     │ │📊 Статус│ │
│ │   145 шт    │ │   23 шт     │ │   122 шт    │ │   100 шт    │ │ 🟢 ОК   │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🎨 ХАРАКТЕРИСТИКИ (НОВОЕ)                                                   │
│ ├─ Размеры: 1800×1200×30 мм                                                │
│ ├─ 🎨 Поверхность: Чешуйки [📝 Изменить]                                   │
│ ├─ 🏷️ Логотип: Без логотипа [📝 Изменить]                                  │
│ ├─ 🧱 Материал: Протектор [📝 Изменить]                                     │
│ ├─ Конструкция: Стандартная, без борта                                     │
│ ├─ Вес: ~45 кг                                                             │
│ └─ Цвет: Черный                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🏷️ ТЕГИ                                                                     │
│ [стандарт] [чешский] [1800×1200] [30мм] [чертёный] [+добавить тег]          │
├─────────────────────────────────────────────────────────────────────────────┤
│ 💰 ЦЕНОВАЯ ИНФОРМАЦИЯ                                                       │
│ ├─ Себестоимость: 12,450₽                                                  │
│ ├─ Цена продажи: 15,430₽                                                   │
│ ├─ Наценка: 24%                                                            │
│ └─ Общая стоимость остатка: 2,237,350₽                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📈 СТАТИСТИКА ДВИЖЕНИЯ (за последние 30 дней)                              │
│ ├─ Приход: 67 шт (3 операции)                                              │
│ ├─ Отгрузка: 89 шт (12 операций)                                           │
│ ├─ Резка: 12 шт → 15 шт других размеров                                    │
│ └─ Средний расход: 2.8 шт/день                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🎯 АКТИВНЫЕ ЗАКАЗЫ                                                          │
│ │📋 Заказ #ORD-2025-047 - Агротек (15 шт) - срок: 28.07.25              │ │
│ │📋 Заказ #ORD-2025-051 - Велес (8 шт) - срок: 30.07.25                 │ │
│ │[👁️ Показать все заказы]                                                 │ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📝 ЗАМЕТКИ И ИСТОРИЯ                                                        │
│ "Популярный размер, высокий спрос летом. Производство 2-3 дня."             │
│ [✏️ Редактировать] [📚 История изменений]                                   │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 3. 🛒 ЗАКАЗЫ

**Доступ:** Менеджеры, Директор по продажам
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНЫ

## 3.1 Список заказов

**Новые возможности:**
- ✅ Короткие номера заказов ORD-2025-001 (вместо длинных timestamp)
- ✅ Автоматическое резервирование товаров
- ✅ Интеграция с производственными заданиями

**Интерфейс списка заказов:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 🛒 ЗАКАЗЫ                                           [➕ Новый заказ] [📤 Экспорт] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔍 [Поиск по номеру/клиенту...] 📊 Фильтры: [Все статусы ▼] [Все менеджеры ▼] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 СПИСОК ЗАКАЗОВ                                                           │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │🔥 ORD-2025-045 │Агротек      │🟡 В производстве│125,430₽│Иванов И.И.   │ │
│ │📅 Создан: 15.07.25 16:30     │⏰ Срок: СЕГОДНЯ              │🔒 Резерв: 0%│ │
│ │[👁️ Открыть] [📝 Редактировать] [📊 Статус] [💬 Комментарий]            │ │
│ │                                                                         │ │
│ │✅ ORD-2025-047 │Велес        │🟢 Готов к отгрузке│89,650₽│Петров П.П.  │ │
│ │📅 Создан: 16.07.25 09:15     │⏰ Срок: завтра               │🔒 Резерв: 100%│ │
│ │[👁️ Открыть] [📝 Редактировать] [🚚 Отгрузить] [💬 Комментарий]        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│ 📊 Показано: 2 из 47 заказов | Общая сумма: 215,080₽                       │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 3.2 Создание заказа

**Интерфейс создания заказа:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ➕ СОЗДАНИЕ НОВОГО ЗАКАЗА                              [💾 Сохранить] [❌ Отмена] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 ОСНОВНАЯ ИНФОРМАЦИЯ                                                      │
│ ├─ Клиент: [Агротек ООО                              ▼] [➕ Новый клиент] │
│ ├─ Менеджер: [Иванов И.И.                            ▼]                   │
│ ├─ Срок поставки: [📅 25.07.2025]                                          │
│ └─ Приоритет: [🔥 Высокий ▼]                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📦 ТОВАРЫ В ЗАКАЗЕ                                     [➕ Добавить товар] │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 🔍 [Поиск товаров для добавления...] [🎯 Автоподсказки включены]       │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │📄 Лежак 0 Чеш 1800×1200×30                           │15 шт│15,430₽│✅│ │
│ │   💾 Остаток: 145 шт │🔒 Резерв: 23 шт │📦 Доступно: 122 шт           │ │
│ │   Автоматически зарезервировано ✅                                      │ │
│ │                                                                         │ │
│ │📄 Коврик кольцевой 600×400                           │25 шт│2,150₽ │⚠️│ │
│ │   💾 Остаток: 5 шт │🔒 Резерв: 0 шт │📦 Доступно: 5 шт               │ │
│ │   ⚠️ Недостает 20 шт - будет создано задание на производство           │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 💰 ИТОГО                                                                    │
│ ├─ Сумма товаров: 285,200₽                                                 │
│ ├─ Скидка: 5% (14,260₽)                                                    │
│ ├─ К доплате: 270,940₽                                                     │
│ └─ 📊 Резерв: 15 шт из 40 шт (37.5%)                                       │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 3.3 Карточка заказа

**Полная карточка с новыми возможностями:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 📋 ЗАКАЗ #ORD-2025-045                            [✏️ Редактировать] [📤 Экспорт] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 ИНФОРМАЦИЯ О ЗАКАЗЕ                                                      │
│ ├─ 🏢 Клиент: Агротек ООО                                                  │
│ ├─ 👤 Менеджер: Иванов И.И.                                                │
│ ├─ 📅 Дата создания: 15.07.2025 16:30                                     │
│ ├─ ⏰ Срок поставки: 20.07.2025 (🔥 СРОЧНО!)                              │
│ ├─ 🎯 Статус: 🟡 В производстве                                            │
│ └─ 🔥 Приоритет: Высокий                                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📦 ТОВАРЫ В ЗАКАЗЕ                                      [➕ Добавить товар] │
│ │📄 Лежак 0 Чеш 1800×1200×30    │15 шт│15,430₽│231,450₽│✅ Зарезервировано│ │
│ │📄 Коврик кольцевой 600×400    │25 шт│2,150₽ │53,750₽ │⚠️ В производстве │ │
│ │                                                                         │ │
│ │💰 Общая сумма: 285,200₽ │💸 Скидка: 14,260₽ │💵 К доплате: 270,940₽    │ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🏭 ПРОИЗВОДСТВЕННЫЕ ЗАДАНИЯ                          [👁️ Все задания] │
│ │📋 TASK-2025-012: Коврик кольцевой 600×400 (20 шт) - 🟡 В работе        │ │
│ │   Создано: 15.07.25 16:35 │Начато: 16.07.25 09:00 │⏰ План: 18.07.25   │ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 💬 КОММЕНТАРИИ И ИСТОРИЯ                                [➕ Добавить комментарий] │
│ │15.07.25 16:30 - Заказ создан (Иванов И.И.)                             │ │
│ │15.07.25 16:35 - Создано задание на производство (Автоматически)        │ │
│ │16.07.25 09:00 - Задание запущено в работу (Производство)               │ │
│ │16.07.25 14:15 - Комментарий: "Срочный заказ, приоритет!" (Иванов И.И.) │ │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 4. 📦 ОСТАТКИ НА СКЛАДЕ

**Доступ:** Все роли
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНЫ + ПОДДЕРЖКА ОТРИЦАТЕЛЬНЫХ ОСТАТКОВ

## 4.1 Текущие остатки

**Новые возможности:**
- ✅ Поддержка отрицательных остатков с визуальными предупреждениями
- ✅ Фильтр "Перезаказ" для быстрого поиска отрицательных остатков
- ✅ Навигация к карточке товара по клику на название
- ✅ Исправлены все TypeScript ошибки с undefined полями

**Интерфейс остатков (обновленный):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 📦 ОСТАТКИ НА СКЛАДЕ                                    [🔄 Обновить] [📤 Экспорт] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔍 [Поиск товаров...] 📊 Фильтры: [Все ▼] [Критичные ▼] [🔴 Перезаказ ▼]    │
│ 📈 Сортировка: [По остатку ▼] [По названию ▼] [По движению ▼]              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 ТАБЛИЦА ОСТАТКОВ                                      [⚙️ Настройки колонок] │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │📄 Товар                     │Остаток│Резерв│Доступно│Статус│Последнее  │ │
│ │                             │       │      │        │      │движение   │ │
│ ├─────────────────────────────┼───────┼──────┼────────┼──────┼───────────┤ │
│ │🔗 Лежак 0 Чеш 1800×1200×30  │  145  │  23  │  122   │ 🟢 ОК│16.07 14:30│ │
│ │   LCH-1800-1200-30          │       │      │        │      │[📋 Карточка]│ │
│ │                             │       │      │        │      │[✏️ Правка]│ │
│ ├─────────────────────────────┼───────┼──────┼────────┼──────┼───────────┤ │
│ │🔗 Коврик кольцевой 600×400  │   5   │  0   │   5    │ 🔴 Мало│15.07 09:15│ │
│ │   KK-600-400                │       │      │        │      │[📋 Карточка]│ │
│ │                             │       │      │        │      │[🏭 Заказать]│ │
│ ├─────────────────────────────┼───────┼──────┼────────┼──────┼───────────┤ │
│ │🔗 Дюбель 10×100мм           │  -15  │  25  │  -40   │⚫ Долг│16.07 11:45│ │
│ │   DUB-10-100                │       │      │        │      │[📋 Карточка]│ │
│ │   ⚠️ ТРЕБУЕТ СРОЧНОГО ПОПОЛНЕНИЯ!                           │[🚨 ЗАКАЗАТЬ]│ │
│ └─────────────────────────────┴───────┴──────┴────────┴──────┴───────────┘ │
│ 📊 Показано: 3 из 1,247 товаров                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📈 СВОДНАЯ СТАТИСТИКА                                                       │
│ ├─ 💾 Общий остаток: 2,567,890₽                                            │
│ ├─ 🔒 В резерве: 347,560₽                                                  │
│ ├─ 📦 Доступно: 2,220,330₽                                                 │
│ ├─ 🔴 Критичные позиции: 23                                                │
│ └─ ⚫ Отрицательные остатки: 7 позиций на сумму -45,670₽                   │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 4.2 Движение товара по периодам

**Интерфейс движения товаров:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 📈 ДВИЖЕНИЕ ТОВАРОВ                                   [📅 Период] [📤 Экспорт] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📅 Период: [📅 01.07.2025] - [📅 16.07.2025] 🔍 [Лежак 0 Чеш 1800×1200×30] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 СХЕМА ДВИЖЕНИЯ                                                           │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 📥 ПРИХОД          ➤ 💼 РЕЗКА         ➤ 📤 ОТГРУЗКА      ➤ 💾 ОСТАТОК  │ │
│ │ ┌─────────────┐      ┌─────────────┐     ┌─────────────┐   ┌───────────┐ │ │
│ │ │Производство │      │Из больших   │     │Заказы       │   │Текущий    │ │ │
│ │ │    +67 шт   │  ➤   │размеров     │ ➤   │   -89 шт    │➤  │  145 шт   │ │ │
│ │ │Корректировка│      │   +12 шт    │     │Корректировка│   │           │ │ │
│ │ │    +8 шт    │      │Брак: -3 шт  │     │    -2 шт    │   │           │ │ │
│ │ └─────────────┘      └─────────────┘     └─────────────┘   └───────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 ДЕТАЛЬНАЯ ИСТОРИЯ                                     [📊 График] [📄 Список] │
│ │16.07 14:30 │📤 Отгрузка    │SHIP-2025-024│-23 шт │122 → 99  │Велес     │ │
│ │16.07 11:45 │🏭 Производство│TASK-2025-008│+45 шт │77 → 122  │Завершено │ │
│ │15.07 16:30 │🔒 Резерв      │ORD-2025-045 │Рез+15 │122 → 107 │Агротек   │ │
│ │15.07 09:15 │✂️ Резка       │CUT-2025-003 │+12 шт │110 → 122 │Из 2000×1200│ │
│ │14.07 18:20 │📝 Корректировка│CORR-001     │-2 шт  │112 → 110 │Брак      │ │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 5. 🏭 ПРОИЗВОДСТВО

**Доступ:** Производство, Директор по продажам
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНО + DRAG-AND-DROP

## 5.1 Производственные задания

**Новые возможности:**
- ✅ Drag-and-drop для изменения очередности заданий
- ✅ Группировка заданий по товарам
- ✅ Завершение заданий с указанием брака и дополнительных товаров
- ✅ Исправлены все ошибки с полями пользователей в БД

**Интерфейс производственных заданий:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 🏭 ПРОИЗВОДСТВЕННЫЕ ЗАДАНИЯ              [🔄 Обновить] [📋 По заданиям] [📦 По товарам] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 Статистика: Активных: 12 │В работе: 5 │Готовых: 3 │Просроченных: 2       │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 АКТИВНЫЕ ЗАДАНИЯ (Drag & Drop для изменения очередности) 🔄             │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │📋 TASK-2025-012 │🔥 Срочно │Коврик кольцевой 600×400    │20 шт│🟡 В работе│ │
│ │   Заказ: ORD-2025-045 (Агротек) │Начато: 16.07 09:00 │Срок: 18.07.25      │ │
│ │   Ответственный: Сидоров С.С. │Готовность: 45%                           │ │
│ │   [⏸️ Пауза] [✅ Завершить] [💬 Комментарий] [📊 Детали]                   │ │
│ │                              ⋮⋮⋮ (drag handle)                           │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │📋 TASK-2025-013 │⚡ Высокий │Лежак 0 Чеш 1800×1200×35   │15 шт│🟢 Готов  │ │
│ │   Заказ: ORD-2025-047 (Велес) │Готов: 16.07 15:30 │Срок: 19.07.25         │ │
│ │   Произведено: 15 шт │Брак: 2 шт │Дополнительно: 1 шт (другой размер)   │ │
│ │   [📦 Принять на склад] [📋 Отчет] [💬 Комментарий]                        │ │
│ │                              ⋮⋮⋮ (drag handle)                           │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📦 ГРУППИРОВКА ПО ТОВАРАМ                                                   │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │📄 Коврик кольцевой 600×400                                             │ │
│ │   📋 3 задания │📦 Всего: 67 шт │🟡 В работе: 20 шт │✅ Готово: 47 шт    │ │
│ │   [🎯 Указать произведенное массово] [📊 Детали по заданиям]              │ │
│ │                                                                         │ │
│ │📄 Лежак 0 Чеш 1800×1200×30                                             │ │
│ │   📋 2 задания │📦 Всего: 35 шт │⏰ Ожидает: 15 шт │🟡 В работе: 20 шт   │ │
│ │   [▶️ Запустить в работу] [📊 Детали по заданиям]                        │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 5.2 Операции резки (КАРДИНАЛЬНО ОБНОВЛЕНО)

**Статус:** ✅ ПОЛНОСТЬЮ ПЕРЕРАБОТАНО

**ВАЖНЫЕ ИЗМЕНЕНИЯ:**
- ❌ **УБРАН ЭТАП УТВЕРЖДЕНИЯ** - операции создаются сразу в статусе "в процессе"  
- ✅ **АВТОМАТИЧЕСКОЕ РЕЗЕРВИРОВАНИЕ** - товар резервируется при создании
- ✅ **ЗАМЕНЕНЫ "ОТХОДЫ" НА "БРАК"** - новая терминология
- ✅ **УЛУЧШЕННЫЙ ИНТЕРФЕЙС** - увеличена ширина формы, исправлено отображение

**Интерфейс операций резки (обновленный):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ✂️ ОПЕРАЦИИ РЕЗКИ                                      [➕ Создать операцию] [🔄 Обновить] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 Статистика: В процессе: 8 │Завершено сегодня: 5 │Брак: 3.2%              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 АКТИВНЫЕ ОПЕРАЦИИ                                                        │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │✂️ CUT-2025-008 │🟡 В процессе │Лежак 2000×1200×30 ➤ Лежак 1800×1200×30 │ │
│ │   План: 5 шт ➤ 6 шт │Резерв: ✅ 5 шт │Начато: 16.07 10:15             │ │
│ │   Ответственный: Производство │Осталось: ~2 часа                        │ │
│ │   [✅ Завершить] [❌ Отменить] [💬 Комментарий] [📊 Детали]               │ │
│ │                                                                         │ │
│ │✂️ CUT-2025-009 │🟡 В процессе │Коврик 800×600 ➤ Коврик 600×400 (x2)   │ │
│ │   План: 3 шт ➤ 6 шт │Резерв: ✅ 3 шт │Начато: 16.07 14:20             │ │
│ │   Ответственный: Производство │Осталось: ~1 час                         │ │
│ │   [✅ Завершить] [❌ Отменить] [💬 Комментарий] [📊 Детали]               │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📈 ЗАВЕРШЕННЫЕ ОПЕРАЦИИ (последние 10)                 [👁️ Показать все] │
│ │✅ CUT-2025-007 │Лежак 2000×1200×30 ➤ 1800×1200×30 │5➤6 шт│Брак: 0    │ │
│ │✅ CUT-2025-006 │Коврик 1000×800 ➤ 600×400 (x2)    │2➤4 шт│Брак: 1 шт │ │
│ │❌ CUT-2025-005 │Лежак 1800×1200×40 ➤ 1800×1200×30 │ОТМЕНЕНА           │ │
└─────────────────────────────────────────────────────────────────────────────┘
```

**Форма создания операции резки (УЛУЧШЕННАЯ):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ✂️ СОЗДАТЬ ЗАЯВКУ НА РЕЗКУ                             [💾 Создать] [❌ Отмена] │
│ ШИРИНА: 800px (увеличена для лучшего отображения)                           │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📦 ИСХОДНЫЙ ТОВАР                                                           │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │🔍 [Поиск исходного товара...]                                          │ │
│ │                                                                         │ │
│ │📄 Лежак 0 Чешский 2000×1200×30мм                                       │ │
│ │    📦 Артикул: LCH-2000-1200-30                                        │ │
│ │    💾 Доступно: 25 шт (остаток: 30 шт, резерв: 5 шт)                   │ │
│ │    ✅ Достаточно для резки                                              │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🎯 РЕЗУЛЬТАТ РЕЗКИ                                                          │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │🔍 [Поиск товара результата...]                                          │ │
│ │                                                                         │ │
│ │📄 Лежак 0 Чешский 1800×1200×30мм                                       │ │
│ │    📦 Артикул: LCH-1800-1200-30                                        │ │
│ │    💾 Текущий остаток: 145 шт                                           │ │
│ │    ⚡ Пополнится после резки                                             │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 ПАРАМЕТРЫ РЕЗКИ                                                          │
│ ├─ Количество исходного товара: [5] шт                                     │
│ ├─ Ожидаемый выход: [6] шт                                                 │
│ ├─ Коэффициент: 1.2 (из 1 шт получается 1.2 шт)                          │
│ └─ Примерное время: ~2 часа                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📝 ДОПОЛНИТЕЛЬНО                                                            │
│ ├─ Комментарий: [Срочная резка для заказа Агротек]                        │ │
│ └─ Ответственный: [Производство ▼]                                         │
│                                                                             │
│ ⚠️ При создании операции исходный товар будет АВТОМАТИЧЕСКИ ЗАРЕЗЕРВИРОВАН  │
│ ✅ Операция будет создана сразу в статусе "В процессе"                     │
└─────────────────────────────────────────────────────────────────────────────┘
```

**Форма завершения операции резки:**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ✅ ЗАВЕРШИТЬ ОПЕРАЦИЮ РЕЗКИ CUT-2025-008               [💾 Завершить] [❌ Отмена] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 ИНФОРМАЦИЯ ОБ ОПЕРАЦИИ                                                   │
│ ├─ Исходный товар: Лежак 0 Чешский 2000×1200×30мм (5 шт)                  │
│ ├─ Результат: Лежак 0 Чешский 1800×1200×30мм                              │
│ ├─ Плановый выход: 6 шт                                                    │
│ └─ Время в работе: 2 часа 15 минут                                         │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📊 ФАКТИЧЕСКИЕ РЕЗУЛЬТАТЫ                                                   │
│ ├─ Фактически получено: [6] шт                                             │
│ ├─ Количество брака: [0] шт                                                │
│ ├─ Процент выхода: 100% (план: 100%)                                       │
│ └─ Качество результата: [Отличное ▼]                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📝 КОММЕНТАРИЙ                                                              │
│ └─ [Резка прошла успешно, качество отличное]                               │
│                                                                             │
│ ✅ После завершения:                                                        │
│ • Исходный товар будет списан (5 шт)                                       │
│ • Результат поступит на склад (6 шт)                                       │
│ • Резерв будет снят                                                        │
│ • Операция перейдет в статус "Завершена"                                   │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 6. 🚚 ОТГРУЗКИ

**Доступ:** Менеджеры, Склад/Охрана  
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНЫ + УЛУЧШЕННЫЕ СТАТУСЫ

## 6.1 Система отгрузок

**Новые возможности:**
- ✅ Короткие номера отгрузок SHIP-2025-001 (вместо длинных timestamp)
- ✅ **УЛУЧШЕННОЕ ОТОБРАЖЕНИЕ СТАТУСОВ** - убраны Badge из Select
- ✅ **ЦВЕТНЫЕ ИНДИКАТОРЫ** для каждого статуса
- ✅ **ЦЕНТРАЛИЗОВАННОЕ УПРАВЛЕНИЕ** через константы

**Интерфейс отгрузок (обновленный):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 🚚 ОТГРУЗКИ                                           [➕ Новая отгрузка] [🔄 Обновить] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🔍 [Поиск по номеру...] 📊 Фильтры: [Все статусы ▼]                       │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ • 🔵 Запланирована     • 🟠 Загрузка      • 🟢 Отгружена              │ │
│ │ • 🟣 Доставлена        • 🔴 Отменена                                    │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 СПИСОК ОТГРУЗОК                                                          │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │🚚 SHIP-2025-024 │🟢 Отгружена   │Велес        │89,650₽ │16.07 15:30    │ │
│ │   Заказы: ORD-2025-047, ORD-2025-048 │Водитель: Иванов │Машина: А123БВ│ │
│ │   [👁️ Детали] [📄 Документы] [📍 Трекинг] [🟣 ➤ Доставлена]              │ │
│ │                                                                         │ │
│ │🚚 SHIP-2025-025 │🟠 Загрузка    │Агротек      │125,430₽│16.07 17:00    │ │
│ │   Заказы: ORD-2025-045 │Погрузка: 60% │Осталось: ~30 мин              │ │
│ │   [👁️ Детали] [🟢 ➤ Отгрузить] [❌ Отменить]                            │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

**Модальное окно изменения статуса (УЛУЧШЕННОЕ):**
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 🔄 ИЗМЕНИТЬ СТАТУС ОТГРУЗКИ SHIP-2025-024             [💾 Сохранить] [❌ Отмена] │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📋 Текущий статус: 🟢 Отгружена                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│ 🎯 Новый статус:                                                            │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ [🟣 • Доставлена] ← доступный переход                                   │ │
│ │ [🔴 • Отменена]   ← доступный переход                                   │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────────────────┤
│ 📝 Комментарий:                                                             │
│ └─ [Товар доставлен в срок, получен без замечаний]                         │
│                                                                             │
│ ✅ Красивые цветные индикаторы вместо Badge компонентов                     │
│ ✅ Только допустимые переходы статусов                                      │
└─────────────────────────────────────────────────────────────────────────────┘
```

# 7. 🔍 ПОИСК И ФИЛЬТРАЦИЯ

**Доступ:** Все роли
**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНО

**Глобальный поиск:**
- Автоподсказки при вводе (минимум 3 символа)
- Поиск по названию, артикулу, размерам
- Поиск заказов по номеру и клиенту
- Контекстные результаты с переходами

# 8. 📊 ДАШБОРД И АНАЛИТИКА

**Статус:** ✅ РЕАЛИЗОВАНО + УЛУЧШЕНИЯ

**Новые возможности:**
- Обновленные метрики с учетом новой функциональности
- Интеграция с системой производственных заданий
- Статистика по операциям резки
- Отчеты по эффективности производства

# 9. 📝 АУДИТ И ИСТОРИЯ

**Статус:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАНО

**Функциональность:**
- Полное логирование всех операций
- История изменений с детализацией
- Возможность отслеживания действий пользователей
- Журнал движения товаров

# 10. 🛠️ АДМИНИСТРИРОВАНИЕ

**Статус:** ✅ БАЗОВЫЕ ФУНКЦИИ РЕАЛИЗОВАНЫ

**Справочники (НОВОЕ):**
- ✅ Справочник поверхностей товаров
- ✅ Справочник логотипов (с предустановленными + пользовательские)
- ✅ Справочник материалов
- ✅ CRUD операции для всех справочников

# 🔧 КРИТИЧЕСКИЕ ИСПРАВЛЕНИЯ (16.07.2025)

## ✅ ВСЕ КРИТИЧЕСКИЕ ОШИБКИ ИСПРАВЛЕНЫ

### Проблемы с базой данных:
- ✅ **SQL ошибки "malformed array literal"** в orders.ts
- ✅ **Ошибки множественных отношений categories** в схеме БД  
- ✅ **Недостающие поля пользователей** в production_tasks (миграция БД)

### TypeScript ошибки:
- ✅ **Undefined поля currentStock/reservedStock** во всех frontend компонентах
- ✅ Добавлены безопасные проверки `(product.currentStock || 0)`

### Улучшения UX/UI:
- ✅ **Исправлено обрезание названий товаров** в формах операций резки  
- ✅ **Улучшено отображение статусов отгрузок** (убраны Badge из Select)
- ✅ **Добавлены цветные индикаторы** для всех статусов
- ✅ **Увеличена ширина модальных окон** до 800px для лучшего отображения

# 📊 ИТОГОВЫЙ СТАТУС ЭКРАНОВ

## ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАННЫЕ ЭКРАНЫ (100%)

1. **🏠 Дашборд** - главная страница с метриками ✅
2. **📚 Каталог товаров** - древовидная структура + карточки ✅
3. **🛒 Заказы** - полный жизненный цикл ✅
4. **📦 Остатки** - учет с поддержкой отрицательных значений ✅
5. **🏭 Производство** - задания + drag-and-drop ✅
6. **✂️ Операции резки** - упрощенный процесс без утверждения ✅
7. **🚚 Отгрузки** - с улучшенными статусами ✅
8. **🔍 Поиск и фильтрация** - глобальный поиск ✅
9. **📊 Аналитика** - базовые отчеты ✅
10. **📝 Аудит** - полное логирование ✅
11. **🛠️ Администрирование** - справочники + управление ✅

**ИТОГО: 11 основных разделов, 40+ экранов - ВСЕ РЕАЛИЗОВАНЫ**

## 🎯 СИСТЕМА ГОТОВА К ЭКСПЛУАТАЦИИ

### Технические характеристики:
- **Backend:** Express.js + PostgreSQL, порт 5001 ✅
- **Frontend:** React, порт 3000 ✅
- **Тестовые пользователи:** director/123456 ✅
- **Все критические ошибки исправлены** ✅

### Недавние улучшения:
- **Красивые статусы отгрузок** с цветными индикаторами ✅
- **Исправленные формы резки** без обрезания текста ✅
- **Упрощенные операции резки** без этапа утверждения ✅
- **Поддержка отрицательных остатков** с предупреждениями ✅
- **Короткие номера** заказов и отгрузок ✅

**ERP SHVEDOFF ПОЛНОСТЬЮ ГОТОВА К ПРОМЫШЛЕННОЙ ЭКСПЛУАТАЦИИ! 🚀**