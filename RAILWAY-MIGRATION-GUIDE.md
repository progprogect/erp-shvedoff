# üöÄ **–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ú–ò–ì–†–ê–¶–ò–ò –ù–ê RAILWAY**

## üìã **–ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**

### ‚úÖ **1. –õ–û–ì–ò–ö–ê –°–¢–ê–¢–£–°–û–í –ó–ê–ö–ê–ó–û–í**
- **–ü–†–û–ë–õ–ï–ú–ê:** –ó–∞–∫–∞–∑—ã —Å —á–∞—Å—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –∫–∞–∫ "–ì–æ—Ç–æ–≤ –∫ –æ—Ç–≥—Ä—É–∑–∫–µ"
- **–†–ï–®–ï–ù–ò–ï:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `orderStatusCalculator.ts` - —Å—Ç–∞—Ç—É—Å "ready" —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –í–°–ï —Ç–æ–≤–∞—Ä—ã –≤ –ü–û–õ–ù–û–ú –æ–±—ä–µ–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã

### ‚úÖ **2. –°–ü–†–ê–í–û–ß–ù–ò–ö–ò –ü–û–í–ï–†–•–ù–û–°–¢–ï–ô –ò –õ–û–ì–û–¢–ò–ü–û–í**
- **–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏:** –ß–µ—Ä—Ç–æ—á–∫–∏, –ß–µ—à—É–π–∫–∏, –ì–ª–∞–¥–∫–∞—è, 1 –∫–æ—Ä–æ–≤–∫–∞, 3 –∫–æ—Ä–æ–≤–∫–∏, –ß–µ—à—É–π–∫–∞ —Å –ª–æ–≥–æ  
- **–õ–æ–≥–æ—Ç–∏–ø—ã:** GEA, Maximilk, VELES, –ê–≥—Ä–æ—Ç–µ–∫, –ê—Ä–Ω—Ç—å–µ–Ω
- **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ "–Ω–∞ –ª–µ—Ç—É" –≤ —Ñ–æ—Ä–º–µ —Ç–æ–≤–∞—Ä–∞

### ‚úÖ **3. –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–°**
- `CreateProductModal.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- `ProductDetail.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ

---

## üîß **–ü–û–®–ê–ì–û–í–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê RAILWAY:**

### **–®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏**

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git add .
git commit -m "üöÄ –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ + –Ω–æ–≤—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ready
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤  
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –Ω–∞ –ª–µ—Ç—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Railway"

# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π  
git push origin main
```

### **–®–ê–ì 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ Railway**
Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—ã–π –∫–æ–¥ –ø—Ä–∏ push –≤ main –≤–µ—Ç–∫—É.

### **–®–ê–ì 3: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π!

#### **3.1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Railway PostgreSQL:**
```bash
# –°–ø–æ—Å–æ–± 1: Railway CLI (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
railway connect

# –°–ø–æ—Å–æ–± 2: psql –Ω–∞–ø—Ä—è–º—É—é
psql "postgresql://postgres:xeIitZntkaAAeoZSFpsOsfCOKpoORwGA@yamanote.proxy.rlwy.net:41401/railway"
```

#### **3.2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é:**
```sql
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
-- backend/migrations/update_references_and_migrate_products.sql

-- –ò–õ–ò –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–∑ —Ñ–∞–π–ª–∞:
\i backend/migrations/update_references_and_migrate_products.sql
```

#### **3.3. –ü–µ—Ä–µ—Å—á–µ—Ç —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤:**
```bash
# –í Railway Console –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Railway DB:
cd backend && node recalculate-order-statuses.js
```

### **–®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

#### **4.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
SELECT id, name, is_system FROM product_surfaces ORDER BY is_system DESC, name;

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–æ—Ç–∏–ø—ã  
SELECT id, name, is_system FROM product_logos ORDER BY is_system DESC, name;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
SELECT 
  COUNT(*) as total_products,
  COUNT(surface_id) as with_surface,
  COUNT(logo_id) as with_logo
FROM products WHERE is_active = true;
```

#### **4.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤:**
```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞–∫–∞–∑–æ–≤
SELECT status, COUNT(*) as count 
FROM orders 
WHERE status NOT IN ('completed', 'cancelled')
GROUP BY status;
```

#### **4.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –Ω–æ–≤—ã–º–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ "–Ω–∞ –ª–µ—Ç—É"  
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

---

## üîç **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:**

### **–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

1. **üìä –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π:**
   - –ß–µ—Ä—Ç–æ—á–∫–∏
   - –ß–µ—à—É–π–∫–∏  
   - –ì–ª–∞–¥–∫–∞—è
   - 1 –∫–æ—Ä–æ–≤–∫–∞
   - 3 –∫–æ—Ä–æ–≤–∫–∏
   - –ß–µ—à—É–π–∫–∞ —Å –ª–æ–≥–æ

2. **üìù –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤:**
   - GEA
   - Maximilk
   - VELES
   - –ê–≥—Ä–æ—Ç–µ–∫
   - –ê—Ä–Ω—Ç—å–µ–Ω

3. **üì¶ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤:**
   - `new` - –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
   - `confirmed` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, —Ç–æ–≤–∞—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã
   - `in_production` - –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ
   - `ready` - –í–°–ï —Ç–æ–≤–∞—Ä—ã –≤ –ü–û–õ–ù–û–ú –æ–±—ä–µ–º–µ –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–≥—Ä—É–∑–∫–µ ‚úÖ
   - `completed` - –≤—ã–ø–æ–ª–Ω–µ–Ω
   - `cancelled` - –æ—Ç–º–µ–Ω–µ–Ω

4. **üîÑ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã:**
   - –°—Ç–∞—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–∑ `characteristics` JSON
   - –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –Ω–æ–≤—ã–µ –ø–æ–ª—è `surface_id`, `logo_id`
   - –¢–æ–≤–∞—Ä—ã —Å–≤—è–∑–∞–Ω—ã —Å –Ω–æ–≤—ã–º–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏

---

## ‚ö†Ô∏è **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø:**

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î"**
```bash
# –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
echo $DATABASE_URL

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
psql "postgresql://postgres:xeIitZntkaAAeoZSFpsOsfCOKpoORwGA@yamanote.proxy.rlwy.net:41401/railway"
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: "–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å"**
```bash
# –†–µ—à–µ–Ω–∏–µ: –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–µ—Å—á–µ—Ç –≤—Ä—É—á–Ω—É—é
cd backend && node recalculate-order-statuses.js
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 3: "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –Ω–µ –ø–æ—è–≤–∏–ª–∏—Å—å"**
```sql
-- –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å
SELECT COUNT(*) FROM product_surfaces WHERE is_system = true;
SELECT COUNT(*) FROM product_logos WHERE is_system = true;
```

---

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê:**

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:

1. ‚úÖ **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏–º—ã** - –µ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
2. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π** 
3. ‚úÖ **–°—Ç–∞—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã**
4. ‚úÖ **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Ä–∞–∑—É**

**üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ª–æ–≥–æ—Ç–∏–ø—ã –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ
- –í–∏–¥–µ—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É–ª—É—á—à–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º 